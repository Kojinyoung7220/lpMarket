<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:fragment="header">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="/css/bootstrap.min.css" crossorigin="anonymous">

    <link href="/css/styles.css" rel="stylesheet"> <!-- Custom CSS 파일 추가 -->
    <title>Music Store</title>
</head>

<body>
<header class="navbar navbar-expand-lg navbar-dark bg-dark">

    <a class="navbar-brand" href="/">MUSIC STORE</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">

        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link" href="/">홈</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/members/new">회원가입</a>
            </li>

            <!-- 로그인 상태에 따라 동적으로 메뉴 항목을 표시 -->
            <li class="nav-item" th:if="${session.loginMember == null}">
                <a class="nav-link" href="/login">로그인</a>
            </li>

            <!-- 로그아웃 -->
            <li class="nav-item" th:if="${session.loginMember != null}">
                <a class="nav-link" href="#" onclick="document.getElementById('logout-form').submit();">로그아웃</a>
                <form id="logout-form" th:action="@{/logout}" method="post" style="display: none;">
                </form>
            </li>

            <li class="nav-item">
                <a class="nav-link" href="/members">회원목록</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/items">상품목록</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/orders">주문하기</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" target='_blank' href="/community">커뮤니티</a>
            </li>
        </ul>

        <!-- 로그인 사용자 이름 표시 -->
        <div class="navbar-text ml-auto" th:if="${memberName != null}">
            <span th:text="'안녕하세요, ' + ${memberName} + '님!'"></span>
        </div>

    </div>
</header>
</body>
</html>
