<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <link th:href="@{/css/bootstrap.min.css}" href="../css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container" style="max-width: 600px">
    <div class="py-5 text-center">
        <h2>로그인</h2>
    </div>

    <body th:fragment="bodyHeader">
    <div class="jumbotron text-center">
        <h1 class="display-4">Welcome</h1>
        <p class="lead">Explore our exclusive collection of albums and artists</p>
    </div>
    </body>

<!--    <form action="" th:action="@{/login}" th:object="${loginForm}" method="post">-->
    <form action="" th:action th:object="${loginForm}" method="post">           <!--  "redirect:" + redirectURL; 이 문제 해결 !!!!!!!-->

        <!-- 글로벌 오류 메시지 표시 -->
        <div th:if="${#fields.hasGlobalErrors()}" class="mb-3">
            <div th:each="err : ${#fields.globalErrors()}" class="alert alert-danger" role="alert" style="font-weight: bold; border-radius: 5px;">
                <i class="fas fa-exclamation-circle"></i> <span th:text="${err}"></span>
            </div>
        </div>

        <div class="mb-3">
            <label for="email">이메일</label>
            <input type="email" id="email" th:field="*{email}" class="form-control" placeholder="이메일" required>
            <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-danger"></div>
        </div>

        <div class="mb-3">
            <label for="password">비밀번호</label>
            <input type="password" id="password" th:field="*{password}" class="form-control" placeholder="비밀번호" required>
            <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="text-danger"></div>
        </div>

        <div class="row">
            <div class="col">
                <form th:action="@{/login}" th:object="${loginForm}" method="post">
                    <button class="btn btn-primary btn-lg btn-block" type="submit">로그인</button>
                </form>
            </div>
            <div class="col">
                <a class="btn btn-dark btn-lg w-100" th:href="@{/}">홈으로</a>
            </div>
        </div>

<!--        <form th:action="@{/login}" th:object="${loginForm}" method="post">-->
<!--            <button class="btn btn-primary btn-lg btn-block" type="submit">로그인</button>-->
<!--        </form>-->

<!--        <div class="col">-->
<!--            <form th:action="@{/logout}" method="post">-->
<!--                <button class="btn btn-dark btn-lg btn-block" type="submit">로그아웃</button>-->
<!--            </form>-->
<!--        </div>-->

    </form>

    <!-- 회원가입 링크 -->
    <div class="text-center mt-3">
        <p>계정이 없으신가요? <a href="/members/new">회원가입</a></p>
    </div>
</div> <!-- /container -->
</body>
</html>
